import{r as o,o as n,c as a,b as s,t as c,F as u,g,d as i,h as _,u as p,R as h,K as m,l as f,e as d}from"./index.b67707c9.js";const P={key:0},k=d("Crea piano di pulizia"),y={}.VITE_API_HOST||"http://localhost:8080",T=y,S={name:"Plan",props:{org_name:String},components:{Datepicker:m},data(){return{listPlans:z(this.org_name),date:null}}};function z(r){let e=o([]);return fetch(T+"/piano_pulizia/list?"+new URLSearchParams({nome_org:r}),{method:"GET",headers:{"Content-Type":"application/json","x-access-token":f.token}}).then(t=>t.json()).then(function(t){e.value=t}).catch(t=>console.error(t)),console.log(e),e}const A=Object.assign(S,{setup(r){return o(""),o(""),o(""),(e,t)=>(n(),a(u,null,[s("div",null,[s("h1",null,"Piani di pulizia ("+c(this.listPlans.length)+")",1),s("ul",null,[!Array.isArray(e.listPlans)||!e.listPlans.length?(n(),a("h3",P,"Nessun piano di pulizia")):(n(!0),a(u,{key:1},g(this.listPlans,l=>(n(),a("li",{key:l},[i(p(h),{to:"/organisations/"+this.org_name+"/plans/"+l},{default:_(()=>[d(c(l),1)]),_:2},1032,["to"])]))),128))])]),s("div",null,[i(p(h),{to:"/organisations/"+this.org_name+"/plans/create"},{default:_(()=>[k]),_:1},8,["to"])])],64))}}),N={setup(r){return(e,t)=>(n(),a("main",null,[i(A,{org_name:e.$route.params.org_name},null,8,["org_name"])]))}};export{N as default};
