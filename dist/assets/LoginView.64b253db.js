import{r as p,o as s,c as a,u as c,l as n,t as y,a as d,w as m,v as _,b as r,s as T,d as k,e as w}from"./index.b67707c9.js";const V={key:0},S={key:1},x={emits:["login"],setup(h,{emit:i}){const f={}.VITE_API_HOST||"http://localhost:8080",o=p(""),l=p("");function v(){fetch(f+"/utente/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o.value,password:l.value})}).then(e=>e.json()).then(function(e){e.username=o.value,console.log(e),T(e),i("login",n)}).catch(e=>console.error(e))}return(e,t)=>(s(),a("form",null,[c(n).token?(s(),a("span",V," Welcome "+y(c(n).username),1)):d("",!0),c(n).token?d("",!0):(s(),a("span",S,[m(r("input",{name:"username","onUpdate:modelValue":t[0]||(t[0]=u=>o.value=u),placeholder:"username"},null,512),[[_,o.value]]),m(r("input",{name:"password",type:"password","onUpdate:modelValue":t[1]||(t[1]=u=>l.value=u),placeholder:"password"},null,512),[[_,l.value]]),r("button",{type:"button",onClick:v},"LogIn")]))]))}},I=r("h1",null,"Login",-1),N=w(" Inserisci le tue credenziali "),U={setup(h){return(i,g)=>(s(),a("main",null,[I,N,k(x)]))}};export{U as default};
